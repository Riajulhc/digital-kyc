{"ast":null,"code":"var _jsxFileName = \"E:\\\\vscode\\\\digital-kyc\\\\frontend\\\\src\\\\pages\\\\dashboard.jsx\",\n  _s = $RefreshSig$();\n// src/pages/dashboard.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { RiBankLine, RiMoneyDollarCircleLine, RiFileListLine, RiShieldCheckLine, RiBankCardLine, RiHandCoinLine, RiTrainLine, RiShoppingCartLine, RiSearchLine, RiUser3Line, RiNotification3Line } from \"react-icons/ri\";\nimport API from \"../services/api\";\n\n/**\r\n * Dashboard (updated)\r\n * - Reads userName, userEmail, userMobile, userKycId, userKycStatus from localStorage (set on login / KYC step).\r\n * - If not present, it will attempt a backend fetch to /api/kyc/dashboard (requires token on API).\r\n * - If there's any saved personal data but no explicit KYC status, the UI will show \"Started\".\r\n * - Account numbers are masked (only last 4 digits shown).\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction maskAccountNo(acc) {\n  if (!acc) return \"Not assigned\";\n  const s = String(acc).replace(/\\s+/g, \"\");\n  if (s.length <= 4) return \"****\";\n  return `XXXX-XXXX-${s.slice(-4)}`;\n}\nfunction StatusBadge({\n  status\n}) {\n  const s = (status || \"\").toLowerCase();\n  const base = \"inline-block px-3 py-1 rounded-full text-sm font-semibold\";\n  if (s === \"approved\" || s === \"completed\") return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `${base} bg-green-100 text-green-800`,\n    children: \"Approved\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 53\n  }, this);\n  if (s === \"rejected\") return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `${base} bg-red-100 text-red-800`,\n    children: \"Rejected\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 32\n  }, this);\n  if (s === \"started\" || s === \"in progress\") return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `${base} bg-yellow-100 text-yellow-800`,\n    children: \"Started\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 54\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `${base} bg-gray-100 text-gray-700`,\n    children: status || \"Not Started\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 10\n  }, this);\n}\n_c = StatusBadge;\nexport default function Dashboard() {\n  _s();\n  var _kycInfo$balance;\n  const [personal, setPersonal] = useState({\n    fullName: localStorage.getItem(\"userName\") || localStorage.getItem(\"kycPersonal\") ? (() => {\n      try {\n        const p = JSON.parse(localStorage.getItem(\"kycPersonal\"));\n        return (p === null || p === void 0 ? void 0 : p.fullName) || (p === null || p === void 0 ? void 0 : p.name) || localStorage.getItem(\"userName\") || \"Customer\";\n      } catch {\n        return localStorage.getItem(\"userName\") || \"Customer\";\n      }\n    })() : \"Customer\",\n    email: localStorage.getItem(\"userEmail\") || (() => {\n      try {\n        var _JSON$parse;\n        return ((_JSON$parse = JSON.parse(localStorage.getItem(\"kycPersonal\"))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.email) || \"—\";\n      } catch {\n        return \"—\";\n      }\n    })(),\n    mobile: localStorage.getItem(\"userMobile\") || (() => {\n      try {\n        var _JSON$parse2;\n        return ((_JSON$parse2 = JSON.parse(localStorage.getItem(\"kycPersonal\"))) === null || _JSON$parse2 === void 0 ? void 0 : _JSON$parse2.mobile) || \"—\";\n      } catch {\n        return \"—\";\n      }\n    })()\n  });\n  const [kycInfo, setKycInfo] = useState(() => {\n    try {\n      const stored = JSON.parse(localStorage.getItem(\"kycCompleteResponse\") || \"null\");\n      return stored || {};\n    } catch {\n      return {};\n    }\n  });\n  const [loading, setLoading] = useState(false);\n\n  // Compute effective KYC status:\n  const savedStatus = localStorage.getItem(\"userKycStatus\") || kycInfo.status || \"\";\n  // If there's personal data saved but no explicit status, show \"Started\"\n  const hasPersonal = Boolean(localStorage.getItem(\"kycPersonal\") || localStorage.getItem(\"userName\") || personal.fullName);\n  const effectiveStatus = savedStatus || (hasPersonal ? \"Started\" : \"Not Started\");\n  useEffect(() => {\n    // If we already have enough info in localStorage, no need to call backend.\n    // Otherwise try to fetch authoritative data from server (if token exists).\n    if (personal.email !== \"—\" && personal.mobile !== \"—\" && (kycInfo.status || kycInfo.kycId)) {\n      return;\n    }\n    const fetchServer = async () => {\n      setLoading(true);\n      try {\n        const res = await API.get(\"/kyc/dashboard\");\n        const data = res.data || {};\n\n        // backend may return { personal: {...}, kyc: {...} }\n        if (data.personal) {\n          const p = data.personal;\n          setPersonal(prev => ({\n            ...prev,\n            fullName: p.fullName || p.name || prev.fullName,\n            email: p.email || prev.email,\n            mobile: p.mobile || prev.mobile\n          }));\n          try {\n            localStorage.setItem(\"kycPersonal\", JSON.stringify(p));\n          } catch {}\n          try {\n            if (p.email) localStorage.setItem(\"userEmail\", p.email);\n          } catch {}\n          try {\n            if (p.mobile) localStorage.setItem(\"userMobile\", p.mobile);\n          } catch {}\n          try {\n            if (p.fullName) localStorage.setItem(\"userName\", p.fullName);\n          } catch {}\n        } else if (data.User) {\n          // fallback if you included User in the response\n          const p = data.User;\n          setPersonal(prev => ({\n            ...prev,\n            fullName: p.name || prev.fullName,\n            email: p.email || prev.email,\n            mobile: p.mobile || prev.mobile\n          }));\n        }\n        if (data.kyc || data) {\n          // handle shape variations\n          const k = data.kyc || data;\n          setKycInfo(k);\n          try {\n            localStorage.setItem(\"kycCompleteResponse\", JSON.stringify(k));\n          } catch {}\n          if (k.status) try {\n            localStorage.setItem(\"userKycStatus\", k.status);\n          } catch {}\n          if (k.kycId) try {\n            localStorage.setItem(\"userKycId\", k.kycId);\n          } catch {}\n          if (k.accountNo || k.accountNumber) try {\n            localStorage.setItem(\"userAccountNo\", k.accountNo || k.accountNumber);\n          } catch {}\n        }\n      } catch (err) {\n        // ignore errors - we will show local values\n        // console.warn(\"Dashboard fetch failed:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchServer();\n  }, []); // run once on mount\n\n  const fullName = personal.fullName || \"Customer\";\n  const email = personal.email || \"—\";\n  const mobile = personal.mobile || \"—\";\n  const kycId = localStorage.getItem(\"userKycId\") || kycInfo.kycId || \"N/A\";\n  const accountNo = localStorage.getItem(\"userAccountNo\") || kycInfo.accountNo || kycInfo.accountNumber || null;\n  const balanceDisplay = (_kycInfo$balance = kycInfo.balance) !== null && _kycInfo$balance !== void 0 ? _kycInfo$balance : \"—\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"w-full bg-[#0047B3] text-white shadow-md py-4 px-8 flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-blue-100\",\n          children: \"Welcome back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg font-semibold tracking-wide\",\n          children: fullName.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search banking services...\",\n            className: \"py-2 pl-3 pr-10 rounded-md text-black w-64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RiSearchLine, {\n            size: 20,\n            className: \"absolute top-2.5 right-3 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RiNotification3Line, {\n          size: 22,\n          className: \"cursor-pointer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RiUser3Line, {\n          size: 22,\n          className: \"cursor-pointer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto px-6 py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6 border border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold mb-3\",\n              children: \"KYC Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"KYC Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n                  status: effectiveStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 40\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 59\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 102\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Mobile:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 59\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: mobile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 104\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold mb-3\",\n                children: \"Account Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"KYC ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium ml-2\",\n                  children: kycId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 64\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 59\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 103\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Account No:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 54\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: accountNo ? maskAccountNo(accountNo) : \"XXXX-XXXX-XXXX\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 103\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-10 border border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-gray-600 text-sm font-medium\",\n          children: \"Primary Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold mt-1 text-gray-900\",\n          children: [\"\\u20B9 \", balanceDisplay === \"—\" ? \"—\" : Number(balanceDisplay).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm\",\n          children: \"Available Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-[#0047B3] text-white px-6 py-2 rounded-md hover:bg-[#003a96] transition\",\n            children: \"Transfer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"border border-gray-300 px-6 py-2 rounded-md hover:bg-gray-100 transition\",\n            children: \"Statement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4 text-gray-700\",\n          children: \"Banking Services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiBankLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 32\n            }, this),\n            title: \"Accounts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiMoneyDollarCircleLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 32\n            }, this),\n            title: \"Deposits\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiHandCoinLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 32\n            }, this),\n            title: \"Loans\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiFileListLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 32\n            }, this),\n            title: \"Investments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiShieldCheckLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 32\n            }, this),\n            title: \"Insurance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiBankCardLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 32\n            }, this),\n            title: \"Cards\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiHandCoinLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 32\n            }, this),\n            title: \"Payments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ServiceCard, {\n            icon: /*#__PURE__*/_jsxDEV(RiMoneyDollarCircleLine, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 32\n            }, this),\n            title: \"UPI & QR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n\n/* SERVICE CARD */\n_s(Dashboard, \"BG3+2RqyTrr5+8etvWnQzMCizRc=\");\n_c2 = Dashboard;\nfunction ServiceCard({\n  icon,\n  title\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border border-gray-200 shadow-sm hover:shadow-md transition rounded-lg p-6 flex flex-col items-center text-center cursor-pointer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-[#0047B3] mb-3\",\n      style: {\n        fontSize: \"28px\"\n      },\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"font-semibold text-gray-800\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n}\n_c3 = ServiceCard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StatusBadge\");\n$RefreshReg$(_c2, \"Dashboard\");\n$RefreshReg$(_c3, \"ServiceCard\");","map":{"version":3,"names":["React","useEffect","useState","RiBankLine","RiMoneyDollarCircleLine","RiFileListLine","RiShieldCheckLine","RiBankCardLine","RiHandCoinLine","RiTrainLine","RiShoppingCartLine","RiSearchLine","RiUser3Line","RiNotification3Line","API","jsxDEV","_jsxDEV","maskAccountNo","acc","s","String","replace","length","slice","StatusBadge","status","toLowerCase","base","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Dashboard","_s","_kycInfo$balance","personal","setPersonal","fullName","localStorage","getItem","p","JSON","parse","name","email","_JSON$parse","mobile","_JSON$parse2","kycInfo","setKycInfo","stored","loading","setLoading","savedStatus","hasPersonal","Boolean","effectiveStatus","kycId","fetchServer","res","get","data","prev","setItem","stringify","User","kyc","k","accountNo","accountNumber","err","balanceDisplay","balance","toUpperCase","type","placeholder","size","Number","toLocaleString","ServiceCard","icon","title","_c2","style","fontSize","_c3","$RefreshReg$"],"sources":["E:/vscode/digital-kyc/frontend/src/pages/dashboard.jsx"],"sourcesContent":["// src/pages/dashboard.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  RiBankLine,\r\n  RiMoneyDollarCircleLine,\r\n  RiFileListLine,\r\n  RiShieldCheckLine,\r\n  RiBankCardLine,\r\n  RiHandCoinLine,\r\n  RiTrainLine,\r\n  RiShoppingCartLine,\r\n  RiSearchLine,\r\n  RiUser3Line,\r\n  RiNotification3Line,\r\n} from \"react-icons/ri\";\r\nimport API from \"../services/api\";\r\n\r\n/**\r\n * Dashboard (updated)\r\n * - Reads userName, userEmail, userMobile, userKycId, userKycStatus from localStorage (set on login / KYC step).\r\n * - If not present, it will attempt a backend fetch to /api/kyc/dashboard (requires token on API).\r\n * - If there's any saved personal data but no explicit KYC status, the UI will show \"Started\".\r\n * - Account numbers are masked (only last 4 digits shown).\r\n */\r\n\r\nfunction maskAccountNo(acc) {\r\n  if (!acc) return \"Not assigned\";\r\n  const s = String(acc).replace(/\\s+/g, \"\");\r\n  if (s.length <= 4) return \"****\";\r\n  return `XXXX-XXXX-${s.slice(-4)}`;\r\n}\r\n\r\nfunction StatusBadge({ status }) {\r\n  const s = (status || \"\").toLowerCase();\r\n  const base = \"inline-block px-3 py-1 rounded-full text-sm font-semibold\";\r\n  if (s === \"approved\" || s === \"completed\") return <span className={`${base} bg-green-100 text-green-800`}>Approved</span>;\r\n  if (s === \"rejected\") return <span className={`${base} bg-red-100 text-red-800`}>Rejected</span>;\r\n  if (s === \"started\" || s === \"in progress\") return <span className={`${base} bg-yellow-100 text-yellow-800`}>Started</span>;\r\n  return <span className={`${base} bg-gray-100 text-gray-700`}>{status || \"Not Started\"}</span>;\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const [personal, setPersonal] = useState({\r\n    fullName: localStorage.getItem(\"userName\") || localStorage.getItem(\"kycPersonal\") ? (() => {\r\n      try {\r\n        const p = JSON.parse(localStorage.getItem(\"kycPersonal\"));\r\n        return p?.fullName || p?.name || localStorage.getItem(\"userName\") || \"Customer\";\r\n      } catch { return localStorage.getItem(\"userName\") || \"Customer\"; }\r\n    })() : \"Customer\",\r\n    email: localStorage.getItem(\"userEmail\") || (() => {\r\n      try { return JSON.parse(localStorage.getItem(\"kycPersonal\"))?.email || \"—\"; } catch { return \"—\"; }\r\n    })(),\r\n    mobile: localStorage.getItem(\"userMobile\") || (() => {\r\n      try { return JSON.parse(localStorage.getItem(\"kycPersonal\"))?.mobile || \"—\"; } catch { return \"—\"; }\r\n    })()\r\n  });\r\n\r\n  const [kycInfo, setKycInfo] = useState(() => {\r\n    try {\r\n      const stored = JSON.parse(localStorage.getItem(\"kycCompleteResponse\") || \"null\");\r\n      return stored || {};\r\n    } catch {\r\n      return {};\r\n    }\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Compute effective KYC status:\r\n  const savedStatus = localStorage.getItem(\"userKycStatus\") || kycInfo.status || \"\";\r\n  // If there's personal data saved but no explicit status, show \"Started\"\r\n  const hasPersonal = Boolean(localStorage.getItem(\"kycPersonal\") || localStorage.getItem(\"userName\") || personal.fullName);\r\n  const effectiveStatus = savedStatus || (hasPersonal ? \"Started\" : \"Not Started\");\r\n\r\n  useEffect(() => {\r\n    // If we already have enough info in localStorage, no need to call backend.\r\n    // Otherwise try to fetch authoritative data from server (if token exists).\r\n    if (personal.email !== \"—\" && personal.mobile !== \"—\" && (kycInfo.status || kycInfo.kycId)) {\r\n      return;\r\n    }\r\n\r\n    const fetchServer = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await API.get(\"/kyc/dashboard\");\r\n        const data = res.data || {};\r\n\r\n        // backend may return { personal: {...}, kyc: {...} }\r\n        if (data.personal) {\r\n          const p = data.personal;\r\n          setPersonal(prev => ({ ...prev, fullName: p.fullName || p.name || prev.fullName, email: p.email || prev.email, mobile: p.mobile || prev.mobile }));\r\n          try { localStorage.setItem(\"kycPersonal\", JSON.stringify(p)); } catch {}\r\n          try { if (p.email) localStorage.setItem(\"userEmail\", p.email); } catch {}\r\n          try { if (p.mobile) localStorage.setItem(\"userMobile\", p.mobile); } catch {}\r\n          try { if (p.fullName) localStorage.setItem(\"userName\", p.fullName); } catch {}\r\n        } else if (data.User) {\r\n          // fallback if you included User in the response\r\n          const p = data.User;\r\n          setPersonal(prev => ({ ...prev, fullName: p.name || prev.fullName, email: p.email || prev.email, mobile: p.mobile || prev.mobile }));\r\n        }\r\n\r\n        if (data.kyc || data) {\r\n          // handle shape variations\r\n          const k = data.kyc || data;\r\n          setKycInfo(k);\r\n          try { localStorage.setItem(\"kycCompleteResponse\", JSON.stringify(k)); } catch {}\r\n          if (k.status) try { localStorage.setItem(\"userKycStatus\", k.status); } catch {}\r\n          if (k.kycId) try { localStorage.setItem(\"userKycId\", k.kycId); } catch {}\r\n          if (k.accountNo || k.accountNumber) try { localStorage.setItem(\"userAccountNo\", k.accountNo || k.accountNumber); } catch {}\r\n        }\r\n      } catch (err) {\r\n        // ignore errors - we will show local values\r\n        // console.warn(\"Dashboard fetch failed:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchServer();\r\n  }, []); // run once on mount\r\n\r\n  const fullName = personal.fullName || \"Customer\";\r\n  const email = personal.email || \"—\";\r\n  const mobile = personal.mobile || \"—\";\r\n  const kycId = localStorage.getItem(\"userKycId\") || kycInfo.kycId || \"N/A\";\r\n  const accountNo = localStorage.getItem(\"userAccountNo\") || kycInfo.accountNo || kycInfo.accountNumber || null;\r\n  const balanceDisplay = kycInfo.balance ?? \"—\";\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* TOP NAVBAR */}\r\n      <header className=\"w-full bg-[#0047B3] text-white shadow-md py-4 px-8 flex items-center justify-between\">\r\n        <div>\r\n          <div className=\"text-sm text-blue-100\">Welcome back</div>\r\n          <div className=\"text-lg font-semibold tracking-wide\">{fullName.toUpperCase()}</div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-6\">\r\n          <div className=\"relative\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search banking services...\"\r\n              className=\"py-2 pl-3 pr-10 rounded-md text-black w-64\"\r\n            />\r\n            <RiSearchLine size={20} className=\"absolute top-2.5 right-3 text-gray-600\" />\r\n          </div>\r\n\r\n          <RiNotification3Line size={22} className=\"cursor-pointer\" />\r\n          <RiUser3Line size={22} className=\"cursor-pointer\" />\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"max-w-7xl mx-auto px-6 py-10\">\r\n        {/* KYC + Personal Details */}\r\n        <section className=\"mb-8\">\r\n          <div className=\"bg-white rounded-lg shadow-md p-6 border border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold mb-3\">KYC Details</h3>\r\n\r\n              <div className=\"text-sm text-gray-700 mb-2\">\r\n                <span className=\"font-medium\">KYC Status:</span>{\" \"}\r\n                <span className=\"ml-2\"><StatusBadge status={effectiveStatus} /></span>\r\n              </div>\r\n\r\n              <div className=\"text-sm text-gray-700 mb-1\"><span className=\"font-medium\">Name:</span> <span className=\"ml-2\">{fullName}</span></div>\r\n              <div className=\"text-sm text-gray-700 mb-1\"><span className=\"font-medium\">Mobile:</span> <span className=\"ml-2\">{mobile}</span></div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-semibold mb-3\">Account Info</h3>\r\n                <div className=\"text-sm text-gray-500\">KYC ID: <span className=\"font-medium ml-2\">{kycId}</span></div>\r\n              </div>\r\n\r\n              <div className=\"text-sm text-gray-700 mb-1\"><span className=\"font-medium\">Email:</span> <span className=\"ml-2\">{email}</span></div>\r\n              <div className=\"text-sm text-gray-700\"><span className=\"font-medium\">Account No:</span> <span className=\"ml-2\">{accountNo ? maskAccountNo(accountNo) : \"XXXX-XXXX-XXXX\"}</span></div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* PRIMARY ACCOUNT */}\r\n        <section className=\"bg-white rounded-lg shadow-md p-6 mb-10 border border-gray-200\">\r\n          <h4 className=\"text-gray-600 text-sm font-medium\">Primary Account</h4>\r\n          <div className=\"text-3xl font-bold mt-1 text-gray-900\">₹ {balanceDisplay === \"—\" ? \"—\" : Number(balanceDisplay).toLocaleString()}</div>\r\n          <p className=\"text-gray-500 text-sm\">Available Balance</p>\r\n\r\n          <div className=\"flex gap-4 mt-6\">\r\n            <button className=\"bg-[#0047B3] text-white px-6 py-2 rounded-md hover:bg-[#003a96] transition\">\r\n              Transfer\r\n            </button>\r\n            <button className=\"border border-gray-300 px-6 py-2 rounded-md hover:bg-gray-100 transition\">\r\n              Statement\r\n            </button>\r\n          </div>\r\n        </section>\r\n\r\n        {/* MAIN SERVICES GRID */}\r\n        <section>\r\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-700\">Banking Services</h3>\r\n\r\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n            <ServiceCard icon={<RiBankLine />} title=\"Accounts\" />\r\n            <ServiceCard icon={<RiMoneyDollarCircleLine />} title=\"Deposits\" />\r\n            <ServiceCard icon={<RiHandCoinLine />} title=\"Loans\" />\r\n            <ServiceCard icon={<RiFileListLine />} title=\"Investments\" />\r\n            <ServiceCard icon={<RiShieldCheckLine />} title=\"Insurance\" />\r\n            <ServiceCard icon={<RiBankCardLine />} title=\"Cards\" />\r\n            <ServiceCard icon={<RiHandCoinLine />} title=\"Payments\" />\r\n            <ServiceCard icon={<RiMoneyDollarCircleLine />} title=\"UPI & QR\" />\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* SERVICE CARD */\r\nfunction ServiceCard({ icon, title }) {\r\n  return (\r\n    <div className=\"bg-white border border-gray-200 shadow-sm hover:shadow-md transition rounded-lg p-6 flex flex-col items-center text-center cursor-pointer\">\r\n      <div className=\"text-[#0047B3] mb-3\" style={{ fontSize: \"28px\" }}>\r\n        {icon}\r\n      </div>\r\n      <div className=\"font-semibold text-gray-800\">{title}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}