{"ast":null,"code":"var _jsxFileName = \"E:\\\\vscode\\\\digital-kyc\\\\frontend\\\\src\\\\pages\\\\kyc-step3.jsx\",\n  _s = $RefreshSig$();\n// src/pages/kyc-step2.jsx\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { RiUploadCloudLine, RiArrowRightLine, RiArrowLeftLine } from \"react-icons/ri\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORAGE_KEY = \"dk_kyc_step2_v2\";\nconst MAX_SIZE = 5 * 1024 * 1024; // 5MB\nconst ACCEPTED = [\"image/jpeg\", \"image/png\", \"application/pdf\"];\nfunction formatSize(bytes) {\n  if (!bytes) return \"0 B\";\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n  return `${(bytes / (1024 * 1024)).toFixed(2)} MB`;\n}\nexport default function KYCStep2() {\n  _s();\n  const navigate = useNavigate();\n\n  // Load any saved values from localStorage\n  const saved = (() => {\n    try {\n      return JSON.parse(localStorage.getItem(STORAGE_KEY) || \"{}\");\n    } catch {\n      return {};\n    }\n  })();\n  const [addrType, setAddrType] = useState(saved.addrType || \"Aadhaar\");\n  const [addrNumber, setAddrNumber] = useState(saved.addrNumber || \"\");\n  const [addrFile, setAddrFile] = useState(saved.addrFile || null); // { name, size, type, dataUrl }\n\n  const [idType, setIdType] = useState(saved.idType || \"Aadhaar\");\n  const [idNumber, setIdNumber] = useState(saved.idNumber || \"\");\n  const [idFile, setIdFile] = useState(saved.idFile || null);\n  const [error, setError] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const addrInputRef = useRef(null);\n  const idInputRef = useRef(null);\n  useEffect(() => {\n    // persist to localStorage whenever changes happen\n    const payload = {\n      addrType,\n      addrNumber,\n      addrFile,\n      idType,\n      idNumber,\n      idFile\n    };\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(payload));\n    } catch {\n      // ignore storage errors\n    }\n  }, [addrType, addrNumber, addrFile, idType, idNumber, idFile]);\n\n  // file helpers\n  const readFileAsDataURL = file => new Promise((resolve, reject) => {\n    const fr = new FileReader();\n    fr.onload = () => resolve(fr.result);\n    fr.onerror = reject;\n    fr.readAsDataURL(file);\n  });\n  const handleFileChosen = async (file, forField) => {\n    setError(\"\");\n    if (!file) return;\n    if (!ACCEPTED.includes(file.type)) {\n      setError(\"Unsupported file type. Use JPG, PNG or PDF.\");\n      return;\n    }\n    if (file.size > MAX_SIZE) {\n      setError(`File too large. Max ${formatSize(MAX_SIZE)} allowed.`);\n      return;\n    }\n    setUploading(true);\n    try {\n      const dataUrl = await readFileAsDataURL(file);\n      const fileObj = {\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        dataUrl\n      };\n      if (forField === \"addr\") setAddrFile(fileObj);else setIdFile(fileObj);\n    } catch (err) {\n      setError(\"Unable to read file. Try again.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // Drag/drop\n  const handleDrop = (e, forField) => {\n    var _e$dataTransfer, _e$dataTransfer$files;\n    e.preventDefault();\n    e.stopPropagation();\n    const f = (_e$dataTransfer = e.dataTransfer) === null || _e$dataTransfer === void 0 ? void 0 : (_e$dataTransfer$files = _e$dataTransfer.files) === null || _e$dataTransfer$files === void 0 ? void 0 : _e$dataTransfer$files[0];\n    if (f) handleFileChosen(f, forField);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  // Validation for numbers: keep simple checks to avoid regex issues\n  function validate() {\n    setError(\"\");\n    if (!addrType) return setError(\"Select address proof type.\");\n    if (!addrNumber || addrNumber.trim().length < 3) {\n      setError(\"Enter a valid address proof number.\");\n      return false;\n    }\n    if (!addrFile) {\n      setError(\"Upload the address proof document.\");\n      return false;\n    }\n    if (!idType) return setError(\"Select identity proof type.\");\n    if (!idNumber || idNumber.trim().length < 3) {\n      setError(\"Enter a valid identity proof number.\");\n      return false;\n    }\n    if (!idFile) {\n      setError(\"Upload the identity proof document.\");\n      return false;\n    }\n\n    // passport basic length check (if selected)\n    if (addrType === \"Passport\" && addrNumber.length < 5 || idType === \"Passport\" && idNumber.length < 5) {\n      setError(\"Passport number looks too short.\");\n      return false;\n    }\n    return true;\n  }\n  const handleNext = e => {\n    if (e) e.preventDefault();\n    if (!validate()) return;\n    // we saved everything to localStorage already — proceed\n    navigate(\"/kyc-step3\");\n  };\n  const handleBack = () => navigate(\"/kyc-step1\");\n\n  // small UI helpers\n  const filePreview = f => {\n    if (!f) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 text-sm text-slate-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-medium\",\n        children: f.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-slate-400\",\n        children: formatSize(f.size)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-6\",\n    children: /*#__PURE__*/_jsxDEV(motion.form, {\n      className: \"w-full max-w-2xl bg-white p-8 rounded-2xl shadow-2xl border border-gray-100\",\n      initial: {\n        opacity: 0,\n        y: 12\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.45\n      },\n      onSubmit: handleNext,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: [\"Step \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 58\n            }, this), \" of \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 102\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-extrabold text-slate-800\",\n            children: \"Enter document details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-slate-500\",\n            children: \"Provide address proof and identity proof documents. We'll match them with your uploads in the next step.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-40\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-slate-100 h-2 rounded-full overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-2 rounded-full bg-blue-600\",\n              style: {\n                width: \"40%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-400 mt-2 text-right\",\n            children: \"Progress: 40%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"mb-6 p-4 border rounded-lg bg-slate-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"1. Address Proof\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Document type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: addrType,\n          onChange: e => setAddrType(e.target.value),\n          className: \"w-full border border-slate-200 rounded px-3 py-2 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Aadhaar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Voter ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Passport\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Document number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: addrNumber,\n          onChange: e => setAddrNumber(e.target.value),\n          placeholder: \"Enter document number\",\n          className: \"w-full border border-slate-200 rounded px-3 py-2 mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Upload document\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onDrop: e => handleDrop(e, \"addr\"),\n          onDragOver: handleDragOver,\n          className: \"border-2 border-dashed rounded-lg p-4 cursor-pointer bg-white\",\n          onClick: () => {\n            var _addrInputRef$current;\n            return (_addrInputRef$current = addrInputRef.current) === null || _addrInputRef$current === void 0 ? void 0 : _addrInputRef$current.click();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: addrInputRef,\n            type: \"file\",\n            accept: \".jpg,.jpeg,.png,.pdf\",\n            className: \"hidden\",\n            onChange: e => {\n              var _e$target$files;\n              return handleFileChosen((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0], \"addr\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(RiUploadCloudLine, {\n              size: 22,\n              className: \"text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-slate-700\",\n                children: addrFile ? \"File selected\" : \"Click or drag file here to upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-400\",\n                children: \"Accepted: JPG, PNG, PDF \\xB7 Max 5.0 MB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), filePreview(addrFile)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"mb-4 p-4 border rounded-lg bg-slate-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"2. Identity Proof\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Document type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: idType,\n          onChange: e => setIdType(e.target.value),\n          className: \"w-full border border-slate-200 rounded px-3 py-2 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Aadhaar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"PAN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Passport\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Document number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: idNumber,\n          onChange: e => setIdNumber(e.target.value),\n          placeholder: \"Enter document number\",\n          className: \"w-full border border-slate-200 rounded px-3 py-2 mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Upload document\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onDrop: e => handleDrop(e, \"id\"),\n          onDragOver: handleDragOver,\n          className: \"border-2 border-dashed rounded-lg p-4 cursor-pointer bg-white\",\n          onClick: () => {\n            var _idInputRef$current;\n            return (_idInputRef$current = idInputRef.current) === null || _idInputRef$current === void 0 ? void 0 : _idInputRef$current.click();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: idInputRef,\n            type: \"file\",\n            accept: \".jpg,.jpeg,.png,.pdf\",\n            className: \"hidden\",\n            onChange: e => {\n              var _e$target$files2;\n              return handleFileChosen((_e$target$files2 = e.target.files) === null || _e$target$files2 === void 0 ? void 0 : _e$target$files2[0], \"id\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(RiUploadCloudLine, {\n              size: 22,\n              className: \"text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-slate-700\",\n                children: idFile ? \"File selected\" : \"Click or drag file here to upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-400\",\n                children: \"Accepted: JPG, PNG, PDF \\xB7 Max 5.0 MB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), filePreview(idFile)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-red-600 mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleBack,\n          className: \"px-4 py-2 rounded-lg border border-slate-200 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(RiArrowLeftLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), \" Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"ml-auto px-5 py-3 rounded-lg bg-blue-700 text-white inline-flex items-center gap-2\",\n          disabled: uploading,\n          children: [\"Next \", /*#__PURE__*/_jsxDEV(RiArrowRightLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n_s(KYCStep2, \"nuKUuvNq+8/iFFkrjQ26hzd/ptY=\", false, function () {\n  return [useNavigate];\n});\n_c = KYCStep2;\nvar _c;\n$RefreshReg$(_c, \"KYCStep2\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","motion","RiUploadCloudLine","RiArrowRightLine","RiArrowLeftLine","jsxDEV","_jsxDEV","STORAGE_KEY","MAX_SIZE","ACCEPTED","formatSize","bytes","toFixed","KYCStep2","_s","navigate","saved","JSON","parse","localStorage","getItem","addrType","setAddrType","addrNumber","setAddrNumber","addrFile","setAddrFile","idType","setIdType","idNumber","setIdNumber","idFile","setIdFile","error","setError","uploading","setUploading","addrInputRef","idInputRef","payload","setItem","stringify","readFileAsDataURL","file","Promise","resolve","reject","fr","FileReader","onload","result","onerror","readAsDataURL","handleFileChosen","forField","includes","type","size","dataUrl","fileObj","name","err","handleDrop","e","_e$dataTransfer","_e$dataTransfer$files","preventDefault","stopPropagation","f","dataTransfer","files","handleDragOver","validate","trim","length","handleNext","handleBack","filePreview","className","children","fileName","_jsxFileName","lineNumber","columnNumber","form","initial","opacity","y","animate","transition","duration","onSubmit","style","width","value","onChange","target","placeholder","onDrop","onDragOver","onClick","_addrInputRef$current","current","click","ref","accept","_e$target$files","_idInputRef$current","_e$target$files2","disabled","_c","$RefreshReg$"],"sources":["E:/vscode/digital-kyc/frontend/src/pages/kyc-step3.jsx"],"sourcesContent":["// src/pages/kyc-step2.jsx\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { RiUploadCloudLine, RiArrowRightLine, RiArrowLeftLine } from \"react-icons/ri\";\r\n\r\nconst STORAGE_KEY = \"dk_kyc_step2_v2\";\r\nconst MAX_SIZE = 5 * 1024 * 1024; // 5MB\r\nconst ACCEPTED = [\"image/jpeg\", \"image/png\", \"application/pdf\"];\r\n\r\nfunction formatSize(bytes) {\r\n  if (!bytes) return \"0 B\";\r\n  if (bytes < 1024) return `${bytes} B`;\r\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\r\n  return `${(bytes / (1024 * 1024)).toFixed(2)} MB`;\r\n}\r\n\r\nexport default function KYCStep2() {\r\n  const navigate = useNavigate();\r\n\r\n  // Load any saved values from localStorage\r\n  const saved = (() => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(STORAGE_KEY) || \"{}\");\r\n    } catch {\r\n      return {};\r\n    }\r\n  })();\r\n\r\n  const [addrType, setAddrType] = useState(saved.addrType || \"Aadhaar\");\r\n  const [addrNumber, setAddrNumber] = useState(saved.addrNumber || \"\");\r\n  const [addrFile, setAddrFile] = useState(saved.addrFile || null); // { name, size, type, dataUrl }\r\n\r\n  const [idType, setIdType] = useState(saved.idType || \"Aadhaar\");\r\n  const [idNumber, setIdNumber] = useState(saved.idNumber || \"\");\r\n  const [idFile, setIdFile] = useState(saved.idFile || null);\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const addrInputRef = useRef(null);\r\n  const idInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // persist to localStorage whenever changes happen\r\n    const payload = { addrType, addrNumber, addrFile, idType, idNumber, idFile };\r\n    try {\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(payload));\r\n    } catch {\r\n      // ignore storage errors\r\n    }\r\n  }, [addrType, addrNumber, addrFile, idType, idNumber, idFile]);\r\n\r\n  // file helpers\r\n  const readFileAsDataURL = (file) =>\r\n    new Promise((resolve, reject) => {\r\n      const fr = new FileReader();\r\n      fr.onload = () => resolve(fr.result);\r\n      fr.onerror = reject;\r\n      fr.readAsDataURL(file);\r\n    });\r\n\r\n  const handleFileChosen = async (file, forField) => {\r\n    setError(\"\");\r\n    if (!file) return;\r\n\r\n    if (!ACCEPTED.includes(file.type)) {\r\n      setError(\"Unsupported file type. Use JPG, PNG or PDF.\");\r\n      return;\r\n    }\r\n    if (file.size > MAX_SIZE) {\r\n      setError(`File too large. Max ${formatSize(MAX_SIZE)} allowed.`);\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    try {\r\n      const dataUrl = await readFileAsDataURL(file);\r\n      const fileObj = { name: file.name, size: file.size, type: file.type, dataUrl };\r\n      if (forField === \"addr\") setAddrFile(fileObj);\r\n      else setIdFile(fileObj);\r\n    } catch (err) {\r\n      setError(\"Unable to read file. Try again.\");\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  // Drag/drop\r\n  const handleDrop = (e, forField) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const f = e.dataTransfer?.files?.[0];\r\n    if (f) handleFileChosen(f, forField);\r\n  };\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  // Validation for numbers: keep simple checks to avoid regex issues\r\n  function validate() {\r\n    setError(\"\");\r\n    if (!addrType) return setError(\"Select address proof type.\");\r\n    if (!addrNumber || addrNumber.trim().length < 3) {\r\n      setError(\"Enter a valid address proof number.\");\r\n      return false;\r\n    }\r\n    if (!addrFile) {\r\n      setError(\"Upload the address proof document.\");\r\n      return false;\r\n    }\r\n\r\n    if (!idType) return setError(\"Select identity proof type.\");\r\n    if (!idNumber || idNumber.trim().length < 3) {\r\n      setError(\"Enter a valid identity proof number.\");\r\n      return false;\r\n    }\r\n    if (!idFile) {\r\n      setError(\"Upload the identity proof document.\");\r\n      return false;\r\n    }\r\n\r\n    // passport basic length check (if selected)\r\n    if ((addrType === \"Passport\" && addrNumber.length < 5) || (idType === \"Passport\" && idNumber.length < 5)) {\r\n      setError(\"Passport number looks too short.\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  const handleNext = (e) => {\r\n    if (e) e.preventDefault();\r\n    if (!validate()) return;\r\n    // we saved everything to localStorage already — proceed\r\n    navigate(\"/kyc-step3\");\r\n  };\r\n\r\n  const handleBack = () => navigate(\"/kyc-step1\");\r\n\r\n  // small UI helpers\r\n  const filePreview = (f) => {\r\n    if (!f) return null;\r\n    return (\r\n      <div className=\"mt-2 text-sm text-slate-700\">\r\n        <div className=\"font-medium\">{f.name}</div>\r\n        <div className=\"text-xs text-slate-400\">{formatSize(f.size)}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-6\">\r\n      <motion.form\r\n        className=\"w-full max-w-2xl bg-white p-8 rounded-2xl shadow-2xl border border-gray-100\"\r\n        initial={{ opacity: 0, y: 12 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.45 }}\r\n        onSubmit={handleNext}\r\n      >\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div>\r\n            <div className=\"text-sm text-slate-500\">Step <span className=\"font-semibold\">2</span> of <span className=\"font-semibold\">5</span></div>\r\n            <h2 className=\"text-2xl font-extrabold text-slate-800\">Enter document details</h2>\r\n            <p className=\"mt-1 text-sm text-slate-500\">Provide address proof and identity proof documents. We'll match them with your uploads in the next step.</p>\r\n          </div>\r\n\r\n          <div className=\"w-40\">\r\n            <div className=\"w-full bg-slate-100 h-2 rounded-full overflow-hidden\">\r\n              <div className=\"h-2 rounded-full bg-blue-600\" style={{ width: \"40%\" }} />\r\n            </div>\r\n            <div className=\"text-xs text-slate-400 mt-2 text-right\">Progress: 40%</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ---------- Address Proof Section ---------- */}\r\n        <section className=\"mb-6 p-4 border rounded-lg bg-slate-50\">\r\n          <h3 className=\"text-lg font-semibold mb-3\">1. Address Proof</h3>\r\n\r\n          <label className=\"block text-sm font-medium mb-2\">Document type</label>\r\n          <select\r\n            value={addrType}\r\n            onChange={(e) => setAddrType(e.target.value)}\r\n            className=\"w-full border border-slate-200 rounded px-3 py-2 mb-3\"\r\n          >\r\n            <option>Aadhaar</option>\r\n            <option>Voter ID</option>\r\n            <option>Passport</option>\r\n          </select>\r\n\r\n          <label className=\"block text-sm font-medium mb-2\">Document number</label>\r\n          <input\r\n            value={addrNumber}\r\n            onChange={(e) => setAddrNumber(e.target.value)}\r\n            placeholder=\"Enter document number\"\r\n            className=\"w-full border border-slate-200 rounded px-3 py-2 mb-3\"\r\n          />\r\n\r\n          <label className=\"block text-sm font-medium mb-2\">Upload document</label>\r\n          <div\r\n            onDrop={(e) => handleDrop(e, \"addr\")}\r\n            onDragOver={handleDragOver}\r\n            className=\"border-2 border-dashed rounded-lg p-4 cursor-pointer bg-white\"\r\n            onClick={() => addrInputRef.current?.click()}\r\n          >\r\n            <input\r\n              ref={addrInputRef}\r\n              type=\"file\"\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n              className=\"hidden\"\r\n              onChange={(e) => handleFileChosen(e.target.files?.[0], \"addr\")}\r\n            />\r\n            <div className=\"flex items-center gap-3\">\r\n              <RiUploadCloudLine size={22} className=\"text-blue-600\" />\r\n              <div>\r\n                <div className=\"font-medium text-slate-700\">{addrFile ? \"File selected\" : \"Click or drag file here to upload\"}</div>\r\n                <div className=\"text-xs text-slate-400\">Accepted: JPG, PNG, PDF · Max 5.0 MB</div>\r\n                {filePreview(addrFile)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* ---------- Identity Proof Section ---------- */}\r\n        <section className=\"mb-4 p-4 border rounded-lg bg-slate-50\">\r\n          <h3 className=\"text-lg font-semibold mb-3\">2. Identity Proof</h3>\r\n\r\n          <label className=\"block text-sm font-medium mb-2\">Document type</label>\r\n          <select\r\n            value={idType}\r\n            onChange={(e) => setIdType(e.target.value)}\r\n            className=\"w-full border border-slate-200 rounded px-3 py-2 mb-3\"\r\n          >\r\n            <option>Aadhaar</option>\r\n            <option>PAN</option>\r\n            <option>Passport</option>\r\n          </select>\r\n\r\n          <label className=\"block text-sm font-medium mb-2\">Document number</label>\r\n          <input\r\n            value={idNumber}\r\n            onChange={(e) => setIdNumber(e.target.value)}\r\n            placeholder=\"Enter document number\"\r\n            className=\"w-full border border-slate-200 rounded px-3 py-2 mb-3\"\r\n          />\r\n\r\n          <label className=\"block text-sm font-medium mb-2\">Upload document</label>\r\n          <div\r\n            onDrop={(e) => handleDrop(e, \"id\")}\r\n            onDragOver={handleDragOver}\r\n            className=\"border-2 border-dashed rounded-lg p-4 cursor-pointer bg-white\"\r\n            onClick={() => idInputRef.current?.click()}\r\n          >\r\n            <input\r\n              ref={idInputRef}\r\n              type=\"file\"\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n              className=\"hidden\"\r\n              onChange={(e) => handleFileChosen(e.target.files?.[0], \"id\")}\r\n            />\r\n            <div className=\"flex items-center gap-3\">\r\n              <RiUploadCloudLine size={22} className=\"text-blue-600\" />\r\n              <div>\r\n                <div className=\"font-medium text-slate-700\">{idFile ? \"File selected\" : \"Click or drag file here to upload\"}</div>\r\n                <div className=\"text-xs text-slate-400\">Accepted: JPG, PNG, PDF · Max 5.0 MB</div>\r\n                {filePreview(idFile)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {error && <div className=\"text-sm text-red-600 mb-4\">{error}</div>}\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleBack}\r\n            className=\"px-4 py-2 rounded-lg border border-slate-200 bg-white\"\r\n          >\r\n            <RiArrowLeftLine /> Back\r\n          </button>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"ml-auto px-5 py-3 rounded-lg bg-blue-700 text-white inline-flex items-center gap-2\"\r\n            disabled={uploading}\r\n          >\r\n            Next <RiArrowRightLine />\r\n          </button>\r\n        </div>\r\n      </motion.form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}