{"ast":null,"code":"var _jsxFileName = \"E:\\\\vscode\\\\digital-kyc\\\\frontend\\\\src\\\\pages\\\\kyc-step3.jsx\",\n  _s = $RefreshSig$();\n// src/pages/kyc-step3.jsx\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { RiUploadCloudLine, RiArrowRightLine, RiArrowLeftLine } from \"react-icons/ri\";\nimport { motion } from \"framer-motion\";\nimport API from \"../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst STORAGE_STEP2 = \"dk_kyc_step2_v2\";\nconst ACCEPTED_TYPES = [\"image/jpeg\", \"image/png\", \"application/pdf\"];\nconst MAX_SIZE_BYTES = 5 * 1024 * 1024; // 5 MB\n\nfunction formatBytes(bytes) {\n  if (!bytes) return \"0 B\";\n  if (bytes < 1024) return bytes + \" B\";\n  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + \" KB\";\n  return (bytes / (1024 * 1024)).toFixed(2) + \" MB\";\n}\nfunction maskNumber(num) {\n  if (!num) return \"\";\n  const last = num.slice(-4);\n  const masked = num.slice(0, -4).replace(/./g, \"*\");\n  return masked + last;\n}\nexport default function KYCStep3() {\n  _s();\n  const navigate = useNavigate();\n  const fileInputRef = useRef(null);\n\n  // load Step 2 saved values\n  const savedStep2 = (() => {\n    try {\n      return JSON.parse(localStorage.getItem(STORAGE_STEP2) || \"{}\");\n    } catch {\n      return {};\n    }\n  })();\n  const [docType, setDocType] = useState(savedStep2.idType || \"Aadhaar\");\n  const [docNumber, setDocNumber] = useState(savedStep2.idNumber || \"\");\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [attemptsLeft, setAttemptsLeft] = useState(null);\n  useEffect(() => {\n    // keep initial values in-sync if saved values exist\n    setDocType(savedStep2.idType || (prev => prev));\n    if (savedStep2.idNumber) setDocNumber(savedStep2.idNumber);\n    // no eslint-disable comments here\n  }, []); // intentionally only run once\n\n  const onChooseFile = f => {\n    setError(\"\");\n    if (!f) return setFile(null);\n    if (!ACCEPTED_TYPES.includes(f.type)) {\n      return setError(\"Unsupported file type. Use JPG, PNG or PDF.\");\n    }\n    if (f.size > MAX_SIZE_BYTES) {\n      return setError(`File too large. Max ${formatBytes(MAX_SIZE_BYTES)} allowed.`);\n    }\n    setFile(f);\n  };\n  const handleFileChange = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    onChooseFile(f);\n  };\n  const handleDrop = e => {\n    var _e$dataTransfer$files;\n    e.preventDefault();\n    e.stopPropagation();\n    const f = (_e$dataTransfer$files = e.dataTransfer.files) === null || _e$dataTransfer$files === void 0 ? void 0 : _e$dataTransfer$files[0];\n    onChooseFile(f);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleBack = () => navigate(\"/kyc-step2\");\n  const handleUpload = async e => {\n    if (e) e.preventDefault();\n    setError(\"\");\n    if (!file) {\n      setError(\"Please select a file to upload.\");\n      return;\n    }\n    if (!docNumber) {\n      setError(\"Document number not found. Please return to Step 2 and fill document details.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"document\", file);\n    formData.append(\"type\", docType);\n    formData.append(\"number\", docNumber);\n    try {\n      var _res$data$attemptsLef, _res$data;\n      setUploading(true);\n      setProgress(0);\n      const res = await API.post(\"/kyc/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        onUploadProgress: progressEvent => {\n          if (progressEvent.total) {\n            const percent = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n            setProgress(percent);\n          }\n        }\n      });\n      const attempts = (_res$data$attemptsLef = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.attemptsLeft) !== null && _res$data$attemptsLef !== void 0 ? _res$data$attemptsLef : null;\n      setAttemptsLeft(attempts);\n      alert(`Upload successful! ${attempts !== null ? `Attempts left: ${attempts}` : \"\"}`);\n      navigate(\"/kyc-step4\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Upload failed. Please try again.\";\n      setError(msg);\n    } finally {\n      setUploading(false);\n      setProgress(0);\n    }\n  };\n  const progressPercent = 60; // step 3 of 5\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-6\",\n    children: /*#__PURE__*/_jsxDEV(motion.form, {\n      onSubmit: handleUpload,\n      initial: {\n        opacity: 0,\n        y: 12\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.45\n      },\n      className: \"w-full max-w-lg bg-white p-8 rounded-2xl shadow-2xl border border-gray-100\",\n      \"aria-labelledby\": \"kyc-step3-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: [\"Step \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 20\n            }, this), \" of \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 64\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"kyc-step3-title\",\n            className: \"text-2xl font-extrabold text-slate-800\",\n            children: \"Upload your document\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-slate-500\",\n            children: [\"Upload a clear photo or PDF of the selected identity document. Max \", formatBytes(MAX_SIZE_BYTES), \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-40\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-slate-100 h-2 rounded-full overflow-hidden\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-2 rounded-full bg-blue-600\",\n              style: {\n                width: `${progressPercent}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-400 mt-2 text-right\",\n            children: [\"Progress: \", progressPercent, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"docType\",\n        className: \"block text-sm font-medium text-slate-700 mb-2\",\n        children: \"Document type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"docType\",\n        value: docType,\n        onChange: e => setDocType(e.target.value),\n        className: \"w-full border border-slate-200 rounded-lg px-4 py-3 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Aadhaar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"PAN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Passport\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Voter ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 text-sm text-slate-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium mb-1\",\n          children: \"Document number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-2 bg-slate-50 rounded border border-slate-100\",\n          children: docNumber ? maskNumber(docNumber) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-slate-400\",\n            children: \"No document number available (complete Step 2)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"button\",\n        tabIndex: 0,\n        onDrop: handleDrop,\n        onDragOver: handleDragOver,\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center w-full h-36 border-2 border-dashed rounded-xl cursor-pointer hover:border-blue-500 transition bg-white\",\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          \"aria-describedby\": \"file-help\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            accept: \".jpg,.jpeg,.png,.pdf\",\n            className: \"hidden\",\n            onChange: handleFileChange,\n            \"aria-label\": \"Upload document\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center text-slate-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(RiUploadCloudLine, {\n                className: \"text-3xl text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-medium\",\n                children: file ? \"File selected\" : \"Click or drag file here to upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 text-xs\",\n              children: file ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-slate-700\",\n                  children: file.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-slate-400\",\n                  children: formatBytes(file.size)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-slate-400\",\n                children: [\"Accepted: JPG, PNG, PDF \\xB7 Max \", formatBytes(MAX_SIZE_BYTES)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-red-600 mb-3\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-slate-100 h-2 rounded-full overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-2 rounded-full bg-blue-600 transition-all\",\n            style: {\n              width: `${progress}%`\n            },\n            \"aria-valuenow\": progress,\n            role: \"progressbar\",\n            \"aria-label\": \"Upload progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-slate-400 mt-2 text-right\",\n          children: [progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), attemptsLeft !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-slate-600 mb-3\",\n        children: [\"Attempts left for this step: \", attemptsLeft]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleBack,\n          className: \"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-sm bg-white hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-200\",\n          children: [/*#__PURE__*/_jsxDEV(RiArrowLeftLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), \" Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: uploading,\n          className: \"ml-auto inline-flex items-center gap-2 px-5 py-3 rounded-lg bg-blue-700 text-white font-medium shadow hover:opacity-95 focus:outline-none focus:ring-2 focus:ring-blue-300\",\n          \"aria-disabled\": uploading,\n          children: [uploading ? `Uploading ${progress}%` : \"Upload & Next\", \" \", /*#__PURE__*/_jsxDEV(RiArrowRightLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"file-help\",\n        className: \"mt-4 text-xs text-slate-400\",\n        children: \"Tip: For Aadhaar, use a clear photo showing all four corners. For PAN, a scanned PDF or clear photo works best.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_s(KYCStep3, \"NkkJkLPLvy2uErneruo0vtq4zTk=\", false, function () {\n  return [useNavigate];\n});\n_c = KYCStep3;\nvar _c;\n$RefreshReg$(_c, \"KYCStep3\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","RiUploadCloudLine","RiArrowRightLine","RiArrowLeftLine","motion","API","jsxDEV","_jsxDEV","Fragment","_Fragment","STORAGE_STEP2","ACCEPTED_TYPES","MAX_SIZE_BYTES","formatBytes","bytes","toFixed","maskNumber","num","last","slice","masked","replace","KYCStep3","_s","navigate","fileInputRef","savedStep2","JSON","parse","localStorage","getItem","docType","setDocType","idType","docNumber","setDocNumber","idNumber","file","setFile","error","setError","uploading","setUploading","progress","setProgress","attemptsLeft","setAttemptsLeft","prev","onChooseFile","f","includes","type","size","handleFileChange","e","_e$target$files","target","files","handleDrop","_e$dataTransfer$files","preventDefault","stopPropagation","dataTransfer","handleDragOver","handleBack","handleUpload","formData","FormData","append","_res$data$attemptsLef","_res$data","res","post","headers","onUploadProgress","progressEvent","total","percent","Math","round","loaded","attempts","data","alert","err","_err$response","_err$response$data","msg","response","message","progressPercent","className","children","form","onSubmit","initial","opacity","y","animate","transition","duration","fileName","_jsxFileName","lineNumber","columnNumber","id","style","width","htmlFor","value","onChange","role","tabIndex","onDrop","onDragOver","onClick","_fileInputRef$current","current","click","ref","accept","name","disabled","_c","$RefreshReg$"],"sources":["E:/vscode/digital-kyc/frontend/src/pages/kyc-step3.jsx"],"sourcesContent":["// src/pages/kyc-step3.jsx\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { RiUploadCloudLine, RiArrowRightLine, RiArrowLeftLine } from \"react-icons/ri\";\r\nimport { motion } from \"framer-motion\";\r\nimport API from \"../services/api\";\r\n\r\nconst STORAGE_STEP2 = \"dk_kyc_step2_v2\";\r\nconst ACCEPTED_TYPES = [\"image/jpeg\", \"image/png\", \"application/pdf\"];\r\nconst MAX_SIZE_BYTES = 5 * 1024 * 1024; // 5 MB\r\n\r\nfunction formatBytes(bytes) {\r\n  if (!bytes) return \"0 B\";\r\n  if (bytes < 1024) return bytes + \" B\";\r\n  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + \" KB\";\r\n  return (bytes / (1024 * 1024)).toFixed(2) + \" MB\";\r\n}\r\n\r\nfunction maskNumber(num) {\r\n  if (!num) return \"\";\r\n  const last = num.slice(-4);\r\n  const masked = num.slice(0, -4).replace(/./g, \"*\");\r\n  return masked + last;\r\n}\r\n\r\nexport default function KYCStep3() {\r\n  const navigate = useNavigate();\r\n  const fileInputRef = useRef(null);\r\n\r\n  // load Step 2 saved values\r\n  const savedStep2 = (() => {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(STORAGE_STEP2) || \"{}\");\r\n    } catch {\r\n      return {};\r\n    }\r\n  })();\r\n\r\n  const [docType, setDocType] = useState(savedStep2.idType || \"Aadhaar\");\r\n  const [docNumber, setDocNumber] = useState(savedStep2.idNumber || \"\");\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [uploading, setUploading] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [attemptsLeft, setAttemptsLeft] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // keep initial values in-sync if saved values exist\r\n    setDocType(savedStep2.idType || (prev => prev));\r\n    if (savedStep2.idNumber) setDocNumber(savedStep2.idNumber);\r\n    // no eslint-disable comments here\r\n  }, []); // intentionally only run once\r\n\r\n  const onChooseFile = (f) => {\r\n    setError(\"\");\r\n    if (!f) return setFile(null);\r\n    if (!ACCEPTED_TYPES.includes(f.type)) {\r\n      return setError(\"Unsupported file type. Use JPG, PNG or PDF.\");\r\n    }\r\n    if (f.size > MAX_SIZE_BYTES) {\r\n      return setError(`File too large. Max ${formatBytes(MAX_SIZE_BYTES)} allowed.`);\r\n    }\r\n    setFile(f);\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const f = e.target.files?.[0];\r\n    onChooseFile(f);\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const f = e.dataTransfer.files?.[0];\r\n    onChooseFile(f);\r\n  };\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleBack = () => navigate(\"/kyc-step2\");\r\n\r\n  const handleUpload = async (e) => {\r\n    if (e) e.preventDefault();\r\n    setError(\"\");\r\n\r\n    if (!file) {\r\n      setError(\"Please select a file to upload.\");\r\n      return;\r\n    }\r\n\r\n    if (!docNumber) {\r\n      setError(\"Document number not found. Please return to Step 2 and fill document details.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"document\", file);\r\n    formData.append(\"type\", docType);\r\n    formData.append(\"number\", docNumber);\r\n\r\n    try {\r\n      setUploading(true);\r\n      setProgress(0);\r\n\r\n      const res = await API.post(\"/kyc/upload\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        onUploadProgress: (progressEvent) => {\r\n          if (progressEvent.total) {\r\n            const percent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n            setProgress(percent);\r\n          }\r\n        },\r\n      });\r\n\r\n      const attempts = res?.data?.attemptsLeft ?? null;\r\n      setAttemptsLeft(attempts);\r\n\r\n      alert(`Upload successful! ${attempts !== null ? `Attempts left: ${attempts}` : \"\"}`);\r\n      navigate(\"/kyc-step4\");\r\n    } catch (err) {\r\n      const msg = err?.response?.data?.message || err?.message || \"Upload failed. Please try again.\";\r\n      setError(msg);\r\n    } finally {\r\n      setUploading(false);\r\n      setProgress(0);\r\n    }\r\n  };\r\n\r\n  const progressPercent = 60; // step 3 of 5\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-6\">\r\n      <motion.form\r\n        onSubmit={handleUpload}\r\n        initial={{ opacity: 0, y: 12 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.45 }}\r\n        className=\"w-full max-w-lg bg-white p-8 rounded-2xl shadow-2xl border border-gray-100\"\r\n        aria-labelledby=\"kyc-step3-title\"\r\n      >\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div>\r\n            <div className=\"text-sm text-slate-500\">\r\n              Step <span className=\"font-semibold\">3</span> of <span className=\"font-semibold\">5</span>\r\n            </div>\r\n            <h2 id=\"kyc-step3-title\" className=\"text-2xl font-extrabold text-slate-800\">\r\n              Upload your document\r\n            </h2>\r\n            <p className=\"mt-1 text-sm text-slate-500\">\r\n              Upload a clear photo or PDF of the selected identity document. Max {formatBytes(MAX_SIZE_BYTES)}.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"w-40\">\r\n            <div className=\"w-full bg-slate-100 h-2 rounded-full overflow-hidden\">\r\n              <div className=\"h-2 rounded-full bg-blue-600\" style={{ width: `${progressPercent}%` }} />\r\n            </div>\r\n            <div className=\"text-xs text-slate-400 mt-2 text-right\">Progress: {progressPercent}%</div>\r\n          </div>\r\n        </div>\r\n\r\n        <label htmlFor=\"docType\" className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n          Document type\r\n        </label>\r\n        <select\r\n          id=\"docType\"\r\n          value={docType}\r\n          onChange={(e) => setDocType(e.target.value)}\r\n          className=\"w-full border border-slate-200 rounded-lg px-4 py-3 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-200\"\r\n        >\r\n          <option>Aadhaar</option>\r\n          <option>PAN</option>\r\n          <option>Passport</option>\r\n          <option>Voter ID</option>\r\n        </select>\r\n\r\n        <div className=\"mb-4 text-sm text-slate-600\">\r\n          <div className=\"font-medium mb-1\">Document number</div>\r\n          <div className=\"px-4 py-2 bg-slate-50 rounded border border-slate-100\">\r\n            {docNumber ? maskNumber(docNumber) : <span className=\"text-slate-400\">No document number available (complete Step 2)</span>}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          role=\"button\"\r\n          tabIndex={0}\r\n          onDrop={handleDrop}\r\n          onDragOver={handleDragOver}\r\n          className=\"mb-4\"\r\n        >\r\n          <div\r\n            className=\"flex items-center justify-center w-full h-36 border-2 border-dashed rounded-xl cursor-pointer hover:border-blue-500 transition bg-white\"\r\n            onClick={() => fileInputRef.current?.click()}\r\n            aria-describedby=\"file-help\"\r\n          >\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\".jpg,.jpeg,.png,.pdf\"\r\n              className=\"hidden\"\r\n              onChange={handleFileChange}\r\n              aria-label=\"Upload document\"\r\n            />\r\n\r\n            <div className=\"text-center text-slate-500\">\r\n              <div className=\"flex items-center justify-center gap-2\">\r\n                <RiUploadCloudLine className=\"text-3xl text-blue-500\" />\r\n                <div className=\"text-sm font-medium\">{file ? \"File selected\" : \"Click or drag file here to upload\"}</div>\r\n              </div>\r\n\r\n              <div className=\"mt-2 text-xs\">\r\n                {file ? (\r\n                  <>\r\n                    <div className=\"font-medium text-slate-700\">{file.name}</div>\r\n                    <div className=\"text-slate-400\">{formatBytes(file.size)}</div>\r\n                  </>\r\n                ) : (\r\n                  <div className=\"text-slate-400\">Accepted: JPG, PNG, PDF Â· Max {formatBytes(MAX_SIZE_BYTES)}</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {error && <div className=\"text-sm text-red-600 mb-3\">{error}</div>}\r\n\r\n        {uploading && (\r\n          <div className=\"mb-3\">\r\n            <div className=\"w-full bg-slate-100 h-2 rounded-full overflow-hidden\">\r\n              <div\r\n                className=\"h-2 rounded-full bg-blue-600 transition-all\"\r\n                style={{ width: `${progress}%` }}\r\n                aria-valuenow={progress}\r\n                role=\"progressbar\"\r\n                aria-label=\"Upload progress\"\r\n              />\r\n            </div>\r\n            <div className=\"text-xs text-slate-400 mt-2 text-right\">{progress}%</div>\r\n          </div>\r\n        )}\r\n\r\n        {attemptsLeft !== null && (\r\n          <div className=\"text-sm text-slate-600 mb-3\">Attempts left for this step: {attemptsLeft}</div>\r\n        )}\r\n\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleBack}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-sm bg-white hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-slate-200\"\r\n          >\r\n            <RiArrowLeftLine /> Back\r\n          </button>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={uploading}\r\n            className=\"ml-auto inline-flex items-center gap-2 px-5 py-3 rounded-lg bg-blue-700 text-white font-medium shadow hover:opacity-95 focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n            aria-disabled={uploading}\r\n          >\r\n            {uploading ? `Uploading ${progress}%` : \"Upload & Next\"} <RiArrowRightLine />\r\n          </button>\r\n        </div>\r\n\r\n        <p id=\"file-help\" className=\"mt-4 text-xs text-slate-400\">\r\n          Tip: For Aadhaar, use a clear photo showing all four corners. For PAN, a scanned PDF or clear photo works best.\r\n        </p>\r\n      </motion.form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}