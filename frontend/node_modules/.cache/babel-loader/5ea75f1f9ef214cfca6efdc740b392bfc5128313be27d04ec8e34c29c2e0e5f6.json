{"ast":null,"code":"var _jsxFileName = \"E:\\\\vscode\\\\digital-kyc\\\\frontend\\\\src\\\\pages\\\\kyc-step4.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable */\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport { RiCheckLine, RiArrowRightLine, RiArrowLeftLine, RiRefreshLine } from \"react-icons/ri\";\nimport API from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STEP1_KEY = \"dk_kyc_step1_v1\";\nconst STEP2_KEY = \"dk_kyc_step2_v2\";\nfunction maskNumber(val) {\n  if (!val) return \"—\";\n  const s = String(val);\n  if (s.length <= 4) return \"*\".repeat(4 - s.length > 0 ? 4 : 0) + s;\n  const visible = s.slice(-4);\n  return s.slice(0, s.length - 4).replace(/./g, \"*\") + visible;\n}\nexport default function KYCStep4() {\n  _s();\n  var _serverKyc$documents, _serverKyc$documents$, _serverKyc$documents2, _serverKyc$documents3, _serverKyc$documents4, _serverKyc$documents5;\n  const navigate = useNavigate();\n  const [personal, setPersonal] = useState({});\n  const [localDocs, setLocalDocs] = useState({});\n  const [serverKyc, setServerKyc] = useState(null);\n  const [loadingMatch, setLoadingMatch] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [matchScore, setMatchScore] = useState(null);\n  const [attemptsLeft, setAttemptsLeft] = useState(null);\n  const [statusMsg, setStatusMsg] = useState(\"\");\n  const [refreshing, setRefreshing] = useState(false);\n  useEffect(() => {\n    try {\n      const s1 = JSON.parse(localStorage.getItem(STEP1_KEY) || \"{}\");\n      setPersonal(s1 || {});\n    } catch {\n      setPersonal({});\n    }\n    try {\n      const s2 = JSON.parse(localStorage.getItem(STEP2_KEY) || \"{}\");\n      setLocalDocs(s2 || {});\n    } catch {\n      setLocalDocs({});\n    }\n    fetchKycDashboard();\n    // intentionally no dependency array changes required for this simple page\n  }, []);\n  const fetchKycDashboard = async () => {\n    setRefreshing(true);\n    try {\n      const res = await API.get(\"/kyc/dashboard\");\n      setServerKyc(res.data || null);\n    } catch (err) {\n      setServerKyc(null);\n    } finally {\n      setRefreshing(false);\n    }\n  };\n  const goBack = () => navigate(\"/kyc-step3\");\n  const runFaceMatchAndFinalize = async () => {\n    setStatusMsg(\"\");\n    setMatchScore(null);\n    setAttemptsLeft(null);\n    setLoadingMatch(true);\n    try {\n      var _res$data$match, _res$data, _res$data$attemptsLef, _res$data2;\n      const res = await API.post(\"/kyc/photo-match\");\n      const match = (_res$data$match = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.match) !== null && _res$data$match !== void 0 ? _res$data$match : null;\n      const attempts = (_res$data$attemptsLef = res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.attemptsLeft) !== null && _res$data$attemptsLef !== void 0 ? _res$data$attemptsLef : null;\n      setMatchScore(match);\n      setAttemptsLeft(attempts);\n      if (match !== null && Number(match) >= 60) {\n        setStatusMsg(\"Face match OK — finalizing KYC...\");\n        await finalizeKyc();\n      } else {\n        setStatusMsg(match === null ? \"Face match returned no score. Try again.\" : `Face match low (${match}%). Please retry with better selfie or lighting.`);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Face match request failed\";\n      setStatusMsg(msg);\n    } finally {\n      setLoadingMatch(false);\n    }\n  };\n  const finalizeKyc = async () => {\n    setSubmitting(true);\n    try {\n      const res = await API.post(\"/kyc/submit\");\n      const summary = (res === null || res === void 0 ? void 0 : res.data) || {};\n      try {\n        localStorage.setItem(\"dk_kyc_summary\", JSON.stringify(summary));\n      } catch {}\n      navigate(\"/kyc-step5\");\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Unable to finalize KYC\";\n      setStatusMsg(msg);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const renderPreview = maybe => {\n    if (!maybe) return null;\n    if (typeof maybe === \"object\" && maybe.dataUrl) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: maybe.dataUrl,\n        alt: \"preview\",\n        className: \"w-28 h-20 object-cover rounded border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 14\n      }, this);\n    }\n    if (typeof maybe === \"string\" && maybe.startsWith(\"data:\")) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: maybe,\n        alt: \"preview\",\n        className: \"w-28 h-20 object-cover rounded border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 14\n      }, this);\n    }\n    if (typeof maybe === \"string\") {\n      if (maybe.match(/\\.(jpe?g|png|gif|webp)$/i)) {\n        const src = maybe.startsWith(\"/\") ? maybe : `/${maybe}`;\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: src,\n          alt: \"preview\",\n          className: \"w-28 h-20 object-cover rounded border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-slate-600\",\n        children: maybe\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 14\n      }, this);\n    }\n    return null;\n  };\n  const display = {\n    name: (personal === null || personal === void 0 ? void 0 : personal.name) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.name) || \"\",\n    dob: (personal === null || personal === void 0 ? void 0 : personal.dob) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.dob) || \"\",\n    email: (personal === null || personal === void 0 ? void 0 : personal.email) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.email) || \"\",\n    mobile: (personal === null || personal === void 0 ? void 0 : personal.mobile) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.mobile) || \"\",\n    kycId: (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.kycId) || (personal === null || personal === void 0 ? void 0 : personal.kycId) || \"\",\n    accountNo: (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.accountNo) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.account_number) || \"\",\n    status: (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.status) || \"Started\",\n    addrType: (localDocs === null || localDocs === void 0 ? void 0 : localDocs.addrType) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.addressType) || \"\",\n    addrNumber: (localDocs === null || localDocs === void 0 ? void 0 : localDocs.addrNumber) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.addressNumber) || \"\",\n    idType: (localDocs === null || localDocs === void 0 ? void 0 : localDocs.idType) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.identityType) || \"\",\n    idNumber: (localDocs === null || localDocs === void 0 ? void 0 : localDocs.idNumber) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.identityNumber) || \"\",\n    addrFile: (serverKyc === null || serverKyc === void 0 ? void 0 : (_serverKyc$documents = serverKyc.documents) === null || _serverKyc$documents === void 0 ? void 0 : (_serverKyc$documents$ = _serverKyc$documents.address) === null || _serverKyc$documents$ === void 0 ? void 0 : _serverKyc$documents$.filePath) || (localDocs === null || localDocs === void 0 ? void 0 : localDocs.addrFile) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.addressFile),\n    idFile: (serverKyc === null || serverKyc === void 0 ? void 0 : (_serverKyc$documents2 = serverKyc.documents) === null || _serverKyc$documents2 === void 0 ? void 0 : (_serverKyc$documents3 = _serverKyc$documents2.identity) === null || _serverKyc$documents3 === void 0 ? void 0 : _serverKyc$documents3.filePath) || (localDocs === null || localDocs === void 0 ? void 0 : localDocs.idFile) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.identityFile),\n    selfie: (personal === null || personal === void 0 ? void 0 : personal.selfie) || (serverKyc === null || serverKyc === void 0 ? void 0 : (_serverKyc$documents4 = serverKyc.documents) === null || _serverKyc$documents4 === void 0 ? void 0 : (_serverKyc$documents5 = _serverKyc$documents4.selfie) === null || _serverKyc$documents5 === void 0 ? void 0 : _serverKyc$documents5.filePath) || (serverKyc === null || serverKyc === void 0 ? void 0 : serverKyc.selfie)\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-6\",\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        y: 8\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      className: \"w-full max-w-3xl bg-white p-8 rounded-2xl shadow-2xl border\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: [\"Step \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 58\n            }, this), \" of \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 102\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-extrabold text-slate-800\",\n            children: \"Review & Face verification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-slate-500\",\n            children: \"Confirm your personal details and uploaded documents. Run face verification to finalize KYC.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-40 text-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-slate-100 h-2 rounded-full overflow-hidden mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-2 rounded-full bg-blue-600\",\n              style: {\n                width: \"80%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-slate-400 flex items-center justify-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Progress: 80%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: fetchKycDashboard,\n              disabled: refreshing,\n              className: \"text-xs text-slate-500 hover:text-slate-700\",\n              title: \"Refresh server data\",\n              children: /*#__PURE__*/_jsxDEV(RiRefreshLine, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg\",\n              children: \"Personal details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-600\",\n              children: /*#__PURE__*/_jsxDEV(RiCheckLine, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-sm text-slate-700 space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 20\n              }, this), \" \", display.name || \"—\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"DOB:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 20\n              }, this), \" \", display.dob || \"—\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 20\n              }, this), \" \", display.email || \"—\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Mobile:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 20\n              }, this), \" \", display.mobile || \"—\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"KYC ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 20\n              }, this), \" \", display.kycId || \"—\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Selfie:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: renderPreview(display.selfie)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg\",\n              children: \"Documents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: display.status && display.status.toLowerCase().includes(\"completed\") ? \"text-green-600\" : \"text-amber-700\",\n              children: display.status || \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 space-y-4 text-sm text-slate-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: \"Address proof\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-500\",\n                children: [display.addrType || \"—\", \" \\u2022 \", display.addrNumber ? maskNumber(display.addrNumber) : \"—\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: renderPreview(display.addrFile)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: \"Identity proof\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-500\",\n                children: [display.idType || \"—\", \" \\u2022 \", display.idNumber ? maskNumber(display.idNumber) : \"—\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: renderPreview(display.idFile)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: \"Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-slate-500\",\n                children: display.accountNo ? `XXXXXX${String(display.accountNo).slice(-4)}` : \"Will be assigned on completion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [matchScore !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-flex items-center gap-3 p-3 rounded bg-green-50 text-green-800\",\n          children: [/*#__PURE__*/_jsxDEV(RiCheckLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), \" Face match score: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [matchScore, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), attemptsLeft !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-sm text-amber-700\",\n          children: [\"Attempts left for photo step: \", attemptsLeft]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), statusMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 text-sm text-rose-600\",\n          children: statusMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: goBack,\n          className: \"px-4 py-2 rounded-md border bg-white inline-flex items-center gap-2\",\n          disabled: loadingMatch || submitting,\n          children: [/*#__PURE__*/_jsxDEV(RiArrowLeftLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), \" Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: runFaceMatchAndFinalize,\n          className: \"ml-auto px-5 py-3 bg-blue-700 text-white rounded-md inline-flex items-center gap-2\",\n          disabled: loadingMatch || submitting,\n          children: [loadingMatch || submitting ? \"Working...\" : \"Run Face Match & Finalize\", /*#__PURE__*/_jsxDEV(RiArrowRightLine, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-xs text-slate-400\",\n        children: \"Tip: For best results, run face match in good lighting without sunglasses. If face match fails, re-upload a clear selfie and try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n_s(KYCStep4, \"9Xb6RbAkFanceTJ6ppz7sf7F/1A=\", false, function () {\n  return [useNavigate];\n});\n_c = KYCStep4;\nvar _c;\n$RefreshReg$(_c, \"KYCStep4\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","motion","RiCheckLine","RiArrowRightLine","RiArrowLeftLine","RiRefreshLine","API","jsxDEV","_jsxDEV","STEP1_KEY","STEP2_KEY","maskNumber","val","s","String","length","repeat","visible","slice","replace","KYCStep4","_s","_serverKyc$documents","_serverKyc$documents$","_serverKyc$documents2","_serverKyc$documents3","_serverKyc$documents4","_serverKyc$documents5","navigate","personal","setPersonal","localDocs","setLocalDocs","serverKyc","setServerKyc","loadingMatch","setLoadingMatch","submitting","setSubmitting","matchScore","setMatchScore","attemptsLeft","setAttemptsLeft","statusMsg","setStatusMsg","refreshing","setRefreshing","s1","JSON","parse","localStorage","getItem","s2","fetchKycDashboard","res","get","data","err","goBack","runFaceMatchAndFinalize","_res$data$match","_res$data","_res$data$attemptsLef","_res$data2","post","match","attempts","Number","finalizeKyc","_err$response","_err$response$data","msg","response","message","summary","setItem","stringify","_err$response2","_err$response2$data","renderPreview","maybe","dataUrl","src","alt","className","fileName","_jsxFileName","lineNumber","columnNumber","startsWith","children","display","name","dob","email","mobile","kycId","accountNo","account_number","status","addrType","addressType","addrNumber","addressNumber","idType","identityType","idNumber","identityNumber","addrFile","documents","address","filePath","addressFile","idFile","identity","identityFile","selfie","div","initial","opacity","y","animate","style","width","onClick","disabled","title","toLowerCase","includes","type","_c","$RefreshReg$"],"sources":["E:/vscode/digital-kyc/frontend/src/pages/kyc-step4.jsx"],"sourcesContent":["/* eslint-disable */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  RiCheckLine,\r\n  RiArrowRightLine,\r\n  RiArrowLeftLine,\r\n  RiRefreshLine,\r\n} from \"react-icons/ri\";\r\nimport API from \"../services/api\";\r\n\r\nconst STEP1_KEY = \"dk_kyc_step1_v1\";\r\nconst STEP2_KEY = \"dk_kyc_step2_v2\";\r\n\r\nfunction maskNumber(val) {\r\n  if (!val) return \"—\";\r\n  const s = String(val);\r\n  if (s.length <= 4) return \"*\".repeat(4 - s.length > 0 ? 4 : 0) + s;\r\n  const visible = s.slice(-4);\r\n  return s.slice(0, s.length - 4).replace(/./g, \"*\") + visible;\r\n}\r\n\r\nexport default function KYCStep4() {\r\n  const navigate = useNavigate();\r\n\r\n  const [personal, setPersonal] = useState({});\r\n  const [localDocs, setLocalDocs] = useState({});\r\n  const [serverKyc, setServerKyc] = useState(null);\r\n\r\n  const [loadingMatch, setLoadingMatch] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [matchScore, setMatchScore] = useState(null);\r\n  const [attemptsLeft, setAttemptsLeft] = useState(null);\r\n  const [statusMsg, setStatusMsg] = useState(\"\");\r\n  const [refreshing, setRefreshing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const s1 = JSON.parse(localStorage.getItem(STEP1_KEY) || \"{}\");\r\n      setPersonal(s1 || {});\r\n    } catch {\r\n      setPersonal({});\r\n    }\r\n    try {\r\n      const s2 = JSON.parse(localStorage.getItem(STEP2_KEY) || \"{}\");\r\n      setLocalDocs(s2 || {});\r\n    } catch {\r\n      setLocalDocs({});\r\n    }\r\n\r\n    fetchKycDashboard();\r\n    // intentionally no dependency array changes required for this simple page\r\n  }, []);\r\n\r\n  const fetchKycDashboard = async () => {\r\n    setRefreshing(true);\r\n    try {\r\n      const res = await API.get(\"/kyc/dashboard\");\r\n      setServerKyc(res.data || null);\r\n    } catch (err) {\r\n      setServerKyc(null);\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const goBack = () => navigate(\"/kyc-step3\");\r\n\r\n  const runFaceMatchAndFinalize = async () => {\r\n    setStatusMsg(\"\");\r\n    setMatchScore(null);\r\n    setAttemptsLeft(null);\r\n    setLoadingMatch(true);\r\n\r\n    try {\r\n      const res = await API.post(\"/kyc/photo-match\");\r\n      const match = res?.data?.match ?? null;\r\n      const attempts = res?.data?.attemptsLeft ?? null;\r\n      setMatchScore(match);\r\n      setAttemptsLeft(attempts);\r\n\r\n      if (match !== null && Number(match) >= 60) {\r\n        setStatusMsg(\"Face match OK — finalizing KYC...\");\r\n        await finalizeKyc();\r\n      } else {\r\n        setStatusMsg(\r\n          match === null\r\n            ? \"Face match returned no score. Try again.\"\r\n            : `Face match low (${match}%). Please retry with better selfie or lighting.`\r\n        );\r\n      }\r\n    } catch (err) {\r\n      const msg = err?.response?.data?.message || err?.message || \"Face match request failed\";\r\n      setStatusMsg(msg);\r\n    } finally {\r\n      setLoadingMatch(false);\r\n    }\r\n  };\r\n\r\n  const finalizeKyc = async () => {\r\n    setSubmitting(true);\r\n    try {\r\n      const res = await API.post(\"/kyc/submit\");\r\n      const summary = res?.data || {};\r\n      try {\r\n        localStorage.setItem(\"dk_kyc_summary\", JSON.stringify(summary));\r\n      } catch {}\r\n      navigate(\"/kyc-step5\");\r\n    } catch (err) {\r\n      const msg = err?.response?.data?.message || err?.message || \"Unable to finalize KYC\";\r\n      setStatusMsg(msg);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const renderPreview = (maybe) => {\r\n    if (!maybe) return null;\r\n    if (typeof maybe === \"object\" && maybe.dataUrl) {\r\n      return <img src={maybe.dataUrl} alt=\"preview\" className=\"w-28 h-20 object-cover rounded border\" />;\r\n    }\r\n    if (typeof maybe === \"string\" && maybe.startsWith(\"data:\")) {\r\n      return <img src={maybe} alt=\"preview\" className=\"w-28 h-20 object-cover rounded border\" />;\r\n    }\r\n    if (typeof maybe === \"string\") {\r\n      if (maybe.match(/\\.(jpe?g|png|gif|webp)$/i)) {\r\n        const src = maybe.startsWith(\"/\") ? maybe : `/${maybe}`;\r\n        return <img src={src} alt=\"preview\" className=\"w-28 h-20 object-cover rounded border\" />;\r\n      }\r\n      return <div className=\"text-sm text-slate-600\">{maybe}</div>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const display = {\r\n    name: personal?.name || serverKyc?.name || \"\",\r\n    dob: personal?.dob || serverKyc?.dob || \"\",\r\n    email: personal?.email || serverKyc?.email || \"\",\r\n    mobile: personal?.mobile || serverKyc?.mobile || \"\",\r\n    kycId: serverKyc?.kycId || personal?.kycId || \"\",\r\n    accountNo: serverKyc?.accountNo || serverKyc?.account_number || \"\",\r\n    status: serverKyc?.status || \"Started\",\r\n    addrType: localDocs?.addrType || serverKyc?.addressType || \"\",\r\n    addrNumber: localDocs?.addrNumber || serverKyc?.addressNumber || \"\",\r\n    idType: localDocs?.idType || serverKyc?.identityType || \"\",\r\n    idNumber: localDocs?.idNumber || serverKyc?.identityNumber || \"\",\r\n    addrFile: serverKyc?.documents?.address?.filePath || localDocs?.addrFile || serverKyc?.addressFile,\r\n    idFile: serverKyc?.documents?.identity?.filePath || localDocs?.idFile || serverKyc?.identityFile,\r\n    selfie: personal?.selfie || serverKyc?.documents?.selfie?.filePath || serverKyc?.selfie,\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-6\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 8 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"w-full max-w-3xl bg-white p-8 rounded-2xl shadow-2xl border\"\r\n      >\r\n        <div className=\"flex items-start justify-between mb-6\">\r\n          <div>\r\n            <div className=\"text-sm text-slate-500\">Step <span className=\"font-semibold\">4</span> of <span className=\"font-semibold\">5</span></div>\r\n            <h2 className=\"text-2xl font-extrabold text-slate-800\">Review & Face verification</h2>\r\n            <p className=\"mt-1 text-sm text-slate-500\">\r\n              Confirm your personal details and uploaded documents. Run face verification to finalize KYC.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"w-40 text-right\">\r\n            <div className=\"w-full bg-slate-100 h-2 rounded-full overflow-hidden mb-2\">\r\n              <div className=\"h-2 rounded-full bg-blue-600\" style={{ width: \"80%\" }} />\r\n            </div>\r\n            <div className=\"text-xs text-slate-400 flex items-center justify-end gap-2\">\r\n              <span>Progress: 80%</span>\r\n              <button\r\n                onClick={fetchKycDashboard}\r\n                disabled={refreshing}\r\n                className=\"text-xs text-slate-500 hover:text-slate-700\"\r\n                title=\"Refresh server data\"\r\n              >\r\n                <RiRefreshLine />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div className=\"p-4 border rounded-lg\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"font-semibold text-lg\">Personal details</h3>\r\n              <div className=\"text-green-600\"><RiCheckLine /></div>\r\n            </div>\r\n\r\n            <div className=\"mt-3 text-sm text-slate-700 space-y-2\">\r\n              <div><strong>Name:</strong> {display.name || \"—\"}</div>\r\n              <div><strong>DOB:</strong> {display.dob || \"—\"}</div>\r\n              <div><strong>Email:</strong> {display.email || \"—\"}</div>\r\n              <div><strong>Mobile:</strong> {display.mobile || \"—\"}</div>\r\n              <div><strong>KYC ID:</strong> {display.kycId || \"—\"}</div>\r\n              <div className=\"mt-3\"><strong>Selfie:</strong><div className=\"mt-2\">{renderPreview(display.selfie)}</div></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-4 border rounded-lg\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"font-semibold text-lg\">Documents</h3>\r\n              <div className={display.status && display.status.toLowerCase().includes(\"completed\") ? \"text-green-600\" : \"text-amber-700\"}>\r\n                {display.status || \"Pending\"}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-3 space-y-4 text-sm text-slate-700\">\r\n              <div>\r\n                <div className=\"font-medium\">Address proof</div>\r\n                <div className=\"text-xs text-slate-500\">{display.addrType || \"—\"} • {display.addrNumber ? maskNumber(display.addrNumber) : \"—\"}</div>\r\n                <div className=\"mt-2\">{renderPreview(display.addrFile)}</div>\r\n              </div>\r\n\r\n              <div>\r\n                <div className=\"font-medium\">Identity proof</div>\r\n                <div className=\"text-xs text-slate-500\">{display.idType || \"—\"} • {display.idNumber ? maskNumber(display.idNumber) : \"—\"}</div>\r\n                <div className=\"mt-2\">{renderPreview(display.idFile)}</div>\r\n              </div>\r\n\r\n              <div>\r\n                <div className=\"font-medium\">Account</div>\r\n                <div className=\"text-xs text-slate-500\">{display.accountNo ? `XXXXXX${String(display.accountNo).slice(-4)}` : \"Will be assigned on completion\"}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          {matchScore !== null && (\r\n            <div className=\"inline-flex items-center gap-3 p-3 rounded bg-green-50 text-green-800\">\r\n              <RiCheckLine /> Face match score: <strong>{matchScore}%</strong>\r\n            </div>\r\n          )}\r\n\r\n          {attemptsLeft !== null && (\r\n            <div className=\"mt-2 text-sm text-amber-700\">Attempts left for photo step: {attemptsLeft}</div>\r\n          )}\r\n\r\n          {statusMsg && (\r\n            <div className=\"mt-3 text-sm text-rose-600\">{statusMsg}</div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mt-6 flex items-center gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={goBack}\r\n            className=\"px-4 py-2 rounded-md border bg-white inline-flex items-center gap-2\"\r\n            disabled={loadingMatch || submitting}\r\n          >\r\n            <RiArrowLeftLine /> Back\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={runFaceMatchAndFinalize}\r\n            className=\"ml-auto px-5 py-3 bg-blue-700 text-white rounded-md inline-flex items-center gap-2\"\r\n            disabled={loadingMatch || submitting}\r\n          >\r\n            {loadingMatch || submitting ? \"Working...\" : \"Run Face Match & Finalize\"}\r\n            <RiArrowRightLine />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"mt-4 text-xs text-slate-400\">\r\n          Tip: For best results, run face match in good lighting without sunglasses. If face match fails, re-upload a clear selfie and try again.\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}